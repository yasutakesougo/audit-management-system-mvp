# DeepWiki レビュー用チェックリスト（福祉業務システム向け）

このチェックリストは `docs/deepwiki/00_guidelines.md` の要求を、**レビューで機械的に確認できる形**にしたものです。  
DeepWiki 生成物（feature docs / overview / architecture）をマージする前に必ず確認します。

---

## 0. ゴール固定（最優先）
- [ ] ドキュメントの冒頭または概要に、目的が「**障害福祉事業所の業務・制度・運用を理解した上で、安全に改修・説明できる人を増やす**」と明記されている
- [ ] 技術説明（フレームワーク/ライブラリ）の羅列になっていない（業務・運用・事故防止が主語）

---

## 1. Why（なぜ）を書けているか
- [ ] 主要な仕様/制約/ルールに「Why（背景・理由・トレードオフ）」が付いている
- [ ] 代替案が想定できる箇所は、採用されなかった理由が（推測なら推測として）補足されている
- [ ] 「不確実な情報」は断定せず、**推測/要確認**として区別されている

---

## 2. 現場事故を防ぐ観点（誤操作・監査不整合）
- [ ] 誤入力・二重登録・取り違え・監査不整合の「起き方」と「防止策」が書かれている
- [ ] 事故につながる入力項目（例：対象利用者/担当職員/日時/算定フラグ等）が明確
- [ ] 監査説明で重要な項目が「説明の観点」とセットで書かれている

---

## 3. Feature Flags / 運用ルールが明記されているか
- [ ] Feature Flag がある場合、**フラグ名・既定値・切替条件・影響範囲**が書かれている
- [ ] `VITE_*` など環境変数が絡む場合、**用途・代表例・注意点**が書かれている
- [ ] fixtures / demo / `VITE_SKIP_SHAREPOINT` 等のバイパスがある場合、**本番経路との違い**が明記されている

---

## 4. 図（Mermaid）が「業務フロー」と「データフロー」を説明できているか
- [ ] **ユーザーフロー（業務/操作フロー）**が Mermaid で図示されている
- [ ] **データ取得/更新フロー**が Mermaid で図示されている
- [ ] 図に「誰が」「どの画面で」「どのデータが動くか」が含まれている

---

## 5. 実装参照（ファイルパスと責務）
- [ ] 重要な説明には **ファイルパス**と **主要な関数/コンポーネント名**が併記されている
- [ ] 長いコード貼り付けではなく、要点＋最小スニペット（必要時のみ）になっている
- [ ] 読み手が「次にどこを見れば良いか」が明確

---

## 6. データ（SharePoint List / 型 / I/O）の説明が揃っているか
- [ ] 利用する SharePoint List 名（既定/上書き）や権限制約が書かれている（該当する場合）
- [ ] 型（TypeScript 型 / zod schema など）と I/O の対応が説明されている
- [ ] 監査・整合性に関わるカラムは優先的に説明されている

---

## 7. テスト契約（Unit/E2E）と data-testid
- [ ] Unit と E2E の両方が扱われている（少なくとも「どちらで守るか」が明確）
- [ ] E2E 観点が **重要シナリオ**として列挙されている（例：作成→保存→再表示 等）
- [ ] 重要な `data-testid` が一覧化されている（変更時に壊れる箇所が分かる）
- [ ] 壊れやすい点（フラグ、日時、権限、SPスキーマ差分など）が明記されている

---

## 8. トーン/表現
- [ ] 公的・中立・分かりやすい
- [ ] 現場に不快感が出る表現がない（人格評価・断定・攻撃的表現なし）
- [ ] 「運用で守るべきこと」はチェックリスト形式で明確

---

## 9. 今後の拡張ポイント（安全に伸ばす案）
- [ ] 安全に拡張できるポイントが書かれている（例：追加カラム、バリデーション、テスト追加、段階公開）
- [ ] 「運用を壊さずに伸ばす」観点がある（データ互換性、権限、監査証跡）

---

## レビュー結果メモ（任意）
- 判定：✅OK / ⚠️要修正 / ❌差し戻し
- 修正ポイント：
  - 
