# System Map

> ⚠️ This file is auto-generated by `scripts/generate-system-map.ts`.
> Generated at: `2025-11-19T04:51:54.231Z`

## 1. Top-level modules under `src/`

| Name | Kind | Path |
| ---- | ---- | ---- |
| `__tests__` | dir | `src/__tests__` |
| `a11y` | dir | `src/a11y` |
| `adapters` | dir | `src/adapters` |
| `app` | dir | `src/app` |
| `App.tsx` | file | `src/App.tsx` |
| `auth` | dir | `src/auth` |
| `components` | dir | `src/components` |
| `config` | dir | `src/config` |
| `debug` | dir | `src/debug` |
| `domain` | dir | `src/domain` |
| `e2e` | dir | `src/e2e` |
| `env.d.ts` | file | `src/env.d.ts` |
| `env.ts` | file | `src/env.ts` |
| `features` | dir | `src/features` |
| `hooks` | dir | `src/hooks` |
| `hydration` | dir | `src/hydration` |
| `i18n` | dir | `src/i18n` |
| `lib` | dir | `src/lib` |
| `main.tsx` | file | `src/main.tsx` |
| `metrics.ts` | file | `src/metrics.ts` |
| `mocks` | dir | `src/mocks` |
| `mui` | dir | `src/mui` |
| `pages` | dir | `src/pages` |
| `prefetch` | dir | `src/prefetch` |
| `serviceRecords.ts` | file | `src/serviceRecords.ts` |
| `sharepoint` | dir | `src/sharepoint` |
| `shims` | dir | `src/shims` |
| `stores` | dir | `src/stores` |
| `stubs` | dir | `src/stubs` |
| `telemetry` | dir | `src/telemetry` |
| `testids.ts` | file | `src/testids.ts` |
| `types` | dir | `src/types` |
| `ui` | dir | `src/ui` |
| `utils` | dir | `src/utils` |

## 2. Features (`src/features/*`)

### `accessibility`

- Root: `src/features/accessibility`
- Files: `AccessibilityContext.tsx`, `AccessibilitySettingsPanel.tsx`, `keyboardNavigation.tsx`

### `attendance`

- Root: `src/features/attendance`
- Subdirs: `__tests__`
- Files: `attendance.logic.ts`

### `audit`

- Root: `src/features/audit`
- Files: `AuditPanel.tsx`, `batchParser.spec.ts`, `batchUtil.spec.ts`, `batchUtil.ts`, `exportCsv.ts`, `labels.ts`, `types.ts`, `useAuditSync.ts`, `useAuditSyncBatch.core.ts`, `useAuditSyncBatch.resend.spec.ts`, `useAuditSyncBatch.ts`

### `auth`

- Root: `src/features/auth`
- Files: `currentUser.ts`, `store.ts`

### `compliance-checklist`

- Root: `src/features/compliance-checklist`
- Files: `ChecklistPage.tsx`, `api.ts`, `types.ts`

### `cross-module`

- Root: `src/features/cross-module`
- Subdirs: `__tests__`
- Files: `dailyUserSnapshot.ts`, `mockData.ts`, `types.ts`

### `daily`

- Root: `src/features/daily`
- Subdirs: `__tests__`, `hooks`
- Files: `BulkDailyRecordForm.tsx`, `BulkDailyRecordList.tsx`, `DailyRecordForm.tsx`, `DailyRecordList.tsx`, `DailyRecordWorkspace.tsx`, `TableDailyRecordForm.tsx`

### `dashboard`

- Root: `src/features/dashboard`
- Subdirs: `__tests__`
- Files: `BriefingPanel.tsx`, `ModuleSummaryCard.tsx`, `QuickActionsFab.tsx`, `activitySummary.ts`, `attendanceSummary.ts`, `crossModuleAlerts.ts`, `dashboardRoleConfig.ts`, `dashboardRouting.ts`, `dashboardSummary.ts`, `dashboardSummary.types.ts`, `ircSummary.ts`, `useDashboardRole.ts`

### `handoff`

- Root: `src/features/handoff`
- Subdirs: `components`, `hooks`
- Files: `HandoffCategorySummaryCard.tsx`, `HandoffMiniSummaryForDrawer.tsx`, `HandoffQuickNoteCard.tsx`, `HandoffSummaryForMeeting.tsx`, `TodayHandoffTimelineList.tsx`, `generateTitleFromMessage.ts`, `handoffApi.ts`, `handoffConfig.ts`, `handoffTypes.ts`, `useCurrentTimeBand.ts`, `useHandoffSummary.ts`, `useHandoffTimeline.ts`

### `meeting`

- Root: `src/features/meeting`
- Subdirs: `__tests__`, `logging`
- Files: `MeetingGuideDrawer.tsx`, `MeetingStepsChecklist.tsx`, `meetingDataTypes.ts`, `meetingSharePointSchema.ts`, `meetingSteps.ts`, `useCurrentMeeting.ts`, `useMeetingData.ts`, `usePriorityFollowUsers.ts`

### `nurse`

- Root: `src/features/nurse`
- Subdirs: `components`, `constants`, `home`, `medication`, `observation`, `records`, `routes`, `sp`, `state`, `telemetry`, `theme`, `toast`
- Files: `index.ts`, `users.ts`

### `operation-hub`

- Root: `src/features/operation-hub`
- Files: `ensureCoreLists.ts`, `useOperationHubData.ts`

### `planDeployment`

- Root: `src/features/planDeployment`
- Files: `supportFlow.ts`

### `records`

- Root: `src/features/records`
- Subdirs: `dashboard`, `monthly`
- Files: `RecordList.tsx`, `api.ts`, `types.ts`

### `resources`

- Root: `src/features/resources`
- Files: `IntegratedResourceCalendarPage.tsx`, `api-new.ts`, `pvsA.ts`, `store.ts`, `types.ts`

### `schedule`

- Root: `src/features/schedule`
- Subdirs: `__tests__`, `api`, `components`, `helpers`, `hooks`, `pages`, `presenters`, `views`
- Files: `AllDayChip.tsx`, `MonthPage.tsx`, `ScheduleDialog.tsx`, `SchedulePage.tsx`, `WeekCalendar.tsx`, `WeekPage.tsx`, `WeekView.tsx`, `adapter.ts`, `briefing.ts`, `clone.ts`, `conflictChecker.spec.ts`, `conflictChecker.ts`, `datekeys.ts`, `dateutils.local.ts`, `ensureScheduleList.syncServiceTypes.ts`, `ensureScheduleList.ts`, `focusGuard.ts`, `localDraftStorage.ts`, `merge.ts`, `move.ts`, `opsSummary.test.ts`, `opsSummary.ts`, `range.ts`, `roomAlternativeEngine.test.ts`, `roomAlternativeEngine.ts`, `ruleEngine.spec.ts`, `scheduleFeatures.ts`, `schema.ts`, `spClient.briefing.ts`, `spClient.schedule.org.ts`, `spClient.schedule.staff.ts`, `spClient.schedule.ts`, `spMap.ts`, `spMappers.ts`, `spSchedule.repo.ts`, `staffAlternativeEngine.ts`, `statusDictionary.ts`, `types.ts`, `useSchedulesToday.ts`, `validation.ts`, `vehicleAlternativeEngine.ts`, `workPattern.ts`, `write.ts`

### `schedules`

- Root: `src/features/schedules`
- Subdirs: `data`, `views`
- Files: `DayView.tsx`, `WeekPage.tsx`, `WeekView.tsx`, `useSchedules.ts`

### `staff`

- Root: `src/features/staff`
- Files: `StaffForm.tsx`, `StaffPanel.tsx`, `index.ts`

### `support`

- Root: `src/features/support`
- Files: `HighRiskIncidentDialog.tsx`, `MonitoringInfo.tsx`, `SupportActivityTemplateForm.tsx`, `SupportActivityTemplateList.tsx`, `SupportStepTemplateForm.tsx`, `SupportStepTemplateList.tsx`, `TimeBasedSupportRecordForm.tsx`, `TimeBasedSupportRecordList.tsx`, `TimeFlowSupportRecordList.tsx`, `UserSelectionList.tsx`, `types.ts`

### `users`

- Root: `src/features/users`
- Subdirs: `UserDetailSections`, `UsersPanel`, `components`, `testUtils`
- Files: `MonthlyUsageDashboardCard.v2.tsx`, `UsageStatusDashboard.tsx`, `UsageStatusDashboard.v2.tsx`, `UserDetailSections.tsx`, `UserForm.tsx`, `UsersPanel.a11y.test.tsx`, `UsersPanel.smoke.test.tsx`, `UsersPanel.tsx`, `api.ts`, `attendance.ts`, `index.ts`, `store.ts`, `types.ts`, `typesExtended.ts`, `useUsers.ts`, `userMasterDashboardUtils.ts`, `usersStoreDemo.ts`

## 3. Pages (`src/pages/*`)

### `__tests__`

- Root: `src/pages/__tests__`
- Files: `MeetingGuidePage.test.tsx`

### `(root)`

- Root: `src/pages`
- Files: `AttendanceRecordPage.improved.tsx`, `AttendanceRecordPage.tsx`, `DailyPage.tsx`, `DailyRecordMenuPage.tsx`, `DailyRecordPage.tsx`, `DashboardPage.tsx`, `DashboardPageTabs.tsx`, `HandoffTimelinePage.tsx`, `HandoverCreatePage.tsx`, `HealthObservationPage.tsx`, `HiyariHattoCreatePage.tsx`, `Home.tsx`, `IndividualSupportManagementPage.tsx`, `IntegratedResourceCalendarPage.tsx`, `MeetingGuidePage.tsx`, `MonthlyRecordPage.tsx`, `ScheduleCreatePage.tsx`, `ScheduleUnavailablePage.tsx`, `SupportActivityMasterPage.tsx`, `SupportPlanGuidePage.Markdown.tsx`, `SupportPlanGuidePage.tsx`, `SupportRecordPage.tsx`, `SupportStepMasterPage.tsx`, `TimeBasedSupportRecordPage.tsx`, `TimeFlowSupportRecordPage.tsx`, `UsageDashboardDemo.tsx`, `UserDetailPage.tsx`, `UserFormDemo.tsx`, `UserMemoCreatePage.tsx`, `UsersSupportProcedurePage.tsx`

## 4. Routes (from router + hydration budgets)

| Path | Source file | Hydration ID | Budget (ms) | Snippet |
| ---- | ----------- | ------------ | ----------- | ------- |
| `admin/dashboard` | `src/app/router.tsx` | `route:admin:dashboard` | `110` | `path: 'admin/dashboard'` |
| `admin/individual-support` | `src/app/router.tsx` | `route:admin:individual-support` | `120` | `path: 'admin/individual-support'` |
| `admin/integrated-resource-calendar` | `src/app/router.tsx` | `route:admin:integrated-resource-calendar` | `140` | `path: 'admin/integrated-resource-calendar'` |
| `admin/step-templates` | `src/app/router.tsx` | `route:admin:step-templates` | `110` | `path: 'admin/step-templates'` |
| `admin/templates` | `src/app/router.tsx` | `route:admin:templates` | `110` | `path: 'admin/templates'` |
| `audit` | `src/app/router.tsx` | `route:audit` | `90` | `path: 'audit'` |
| `checklist` | `src/app/router.tsx` | `route:checklist` | `90` | `path: 'checklist'` |
| `daily` | `src/app/router.tsx` | `route:daily` | `90` | `path: 'daily'` |
| `daily/activity` | `src/app/router.tsx` | `route:daily:activity` | `110` | `path: 'daily/activity'` |
| `daily/attendance` | `src/app/router.tsx` | `route:daily` | `90` | `path: 'daily/attendance'` |
| `daily/health` | `src/app/router.tsx` | `route:daily` | `90` | `path: 'daily/health'` |
| `daily/support` | `src/app/router.tsx` | `route:daily:support` | `110` | `path: 'daily/support'` |
| `dashboard` | `src/app/router.tsx` | `route:dashboard` | `80` | `path: 'dashboard'` |
| `handoff-timeline` | `src/app/router.tsx` | `route:handoff-timeline` | `120` | `path: 'handoff-timeline'` |
| `meeting-guide` | `src/app/router.tsx` | `route:meeting-guide` | `70` | `path: 'meeting-guide'` |
| `records` | `src/app/router.tsx` | `route:records` | `90` | `path: 'records'` |
| `schedule` | `src/app/router.tsx` | `route:schedules:week` | `150` | `path: 'schedule'` |
| `schedule/*` | `src/app/router.tsx` | `route:schedules:week` | `150` | `path: 'schedule/*'` |
| `schedules` | `src/app/router.tsx` | `route:schedules:week` | `150` | `path: 'schedules'` |
| `schedules/create` | `src/app/router.tsx` | `route:schedules:create` | `150` | `path: 'schedules/create'` |
| `schedules/day` | `src/app/router.tsx` | `route:schedules:day` | `120` | `path: 'schedules/day'` |
| `schedules/month` | `src/app/router.tsx` | `route:schedules:month` | `160` | `path: 'schedules/month'` |
| `schedules/unified` | `src/app/router.tsx` | `route:schedules:week` | `150` | `path: 'schedules/unified'` |
| `schedules/week` | `src/app/router.tsx` | `route:schedules:week` | `150` | `path: 'schedules/week'` |
| `staff` | `src/app/router.tsx` | `route:staff` | `90` | `path: 'staff'` |
| `users` | `src/app/router.tsx` | `route:users` | `90` | `path: 'users'` |
| `users/:userId` | `src/app/router.tsx` | `route:users` | `90` | `path: 'users/:userId'` |

## 5. Feature-level hydration spans

| Key | Span ID | Label | Budget (ms) | Description |
| --- | ------- | ----- | ----------- | ----------- |
| `dashboard.activityModel` | `feature:dashboard:activity-model` | `Dashboard activity simulation` | `80` | Mock diary generation per user (Plan vs Actual) |
| `dashboard.usageAggregation` | `feature:dashboard:usage-aggregation` | `Dashboard usage aggregation` | `90` | Monthly usage map derived from diary records |
| `integratedResourceCalendar.events` | `feature:integrated-resource-calendar:events` | `IRC unified event load` | `160` | SharePoint client fetch + normalization |
| `integratedResourceCalendar.warnings` | `feature:integrated-resource-calendar:warnings` | `IRC resource warning scan` | `60` | Per-resource total hours calculation + warning flags |
| `meeting.derive` | `feature:meeting:derive` | `Meeting view derivation` | `60` | Template + SharePoint record merge for guide UI |
| `meeting.drawer` | `feature:meeting:drawer` | `Meeting drawer open` | `25` | Drawer open interaction + HUD sync |
| `meeting.load` | `feature:meeting:load` | `Meeting session bootstrap` | `140` | SharePoint session + steps fetch with memoization |
| `schedules.conflict` | `feature:schedules:conflict` | `Schedule conflict detection` | `75` | Collision + overlap scan across resources |
| `schedules.load` | `feature:schedules:load` | `Schedules data load` | `170` | User + org + staff SharePoint fetch pipeline |
| `schedules.move` | `feature:schedules:move` | `Schedule move operation` | `45` | Pure move transform + validation |
| `schedules.range` | `feature:schedules:range` | `Schedule range rebuild` | `55` | Week/month boundary recomputation |
| `schedules.recompute` | `feature:schedules:recompute` | `Schedule UI recompute` | `120` | Week/month slot virtualization + memo builds |
| `schedules.write` | `feature:schedules:write` | `Schedules write pipeline` | `110` | SharePoint batch save with optimistic updates |
| `supportPlanGuide.draftLoad` | `feature:support-plan-guide:drafts-load` | `Support Plan draft bootstrap` | `70` | localStorage read + sanitize path for drafts |
| `supportPlanGuide.markdown` | `feature:support-plan-guide:markdown` | `Support Plan Markdown render` | `90` | Markdown preview lazy import + render pipeline |

## 6. Feature Flags (resolved snapshot)

| Flag | Value |
| ---- | ----- |
| `complianceForm` | `false` |
| `schedules` | `false` |
| `schedulesCreate` | `false` |
